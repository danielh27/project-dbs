<div class="container-messages-column me-3"
     data-controller="search-message"
     data-search-message-chat-id-value="<%= @chat.id %>">

  <div class="d-flex align-items-center gap-2 mb-3">
    <h3 class="fw-bold">Mensajes</h3>
    <span class="amount-messages fs-6 fw-light rounded px-2" data-search-message-target="counter"><%= @chats.size %></span>
  </div>

  <div class="px-1 py-2 border border-secondary border-1 rounded">
    <%= form_with url: service_chat_path(@service, @chat),
                  method: :get,
                  data: { search_message_target: 'form' } do |form| %>
      <i class="fa-solid fa-magnifying-glass text-secondary fw-bold px-2"></i>
      <%= form.text_field :query,
                          value: params[:query],
                          placeholder: 'Busca un mensaje',
                          data: { search_message_target: "input", action: "keyup->search-message#filter" },
                          class: "border border-0 bg-transparent" %>
    <% end %>
  </div>

  <%= render 'chat_list_item', chats: chats %>
</div>
